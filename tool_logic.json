{
  "tools": [
    {
      "type": "function",
      "function": {
        "name": "list_products",
        "description": "List products with optional filters",
        "parameters": {
          "type": "object",
          "properties": {
            "category": {"type": "string"},
            "q": {"type": "string", "description": "search term"},
            "limit": {"type": "integer", "default": 100}
          }
        }
      }
    },
    {
      "type": "function",
      "function": {
        "name": "purchase",
        "description": "Purchase items under budget",
        "parameters": {
          "type": "object",
          "properties": {
            "budget": {"type": "number"},
            "items": {"type": "array", "items": {"type": "object", "properties": {"id": {"type": "string"}, "qty": {"type": "integer"}}}}
          },
          "required": ["budget", "items"]
        }
      }
    }
  ]
}